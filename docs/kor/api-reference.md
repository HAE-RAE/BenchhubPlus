# API λ νΌλ°μ¤

BenchHub Plus REST APIμ ν•µμ‹¬ μ—”λ“ν¬μΈνΈμ™€ μ”μ²­/μ‘λ‹µ ν•μ‹μ„ μ •λ¦¬ν•©λ‹λ‹¤.

## π κΈ°λ³Έ URL
- **κ°λ° ν™κ²½**: `http://localhost:8000`
- **μ΄μ ν™κ²½**: `https://your-domain.com`

λ¨λ“  μ—”λ“ν¬μΈνΈλ” `/api/v1` κ²½λ΅λ¥Ό μ ‘λ‘μ‚¬λ΅ μ‚¬μ©ν•©λ‹λ‹¤.

## π” μΈμ¦
μ™Έλ¶€ λ¨λΈ μ„λΉ„μ¤ νΈμ¶ μ‹ Bearer ν† ν° λ°©μ‹μ API ν‚¤ μΈμ¦μ„ μ‚¬μ©ν•©λ‹λ‹¤.
```http
Authorization: Bearer your-api-key
```

## π“‹ μ£Όμ” μ—”λ“ν¬μΈνΈ

### ν—¬μ¤ μ²΄ν¬
- **GET `/api/v1/health`** : μ‹μ¤ν… μƒνƒ ν™•μΈ
  - μ‘λ‹µ μμ‹
    ```json
    {
      "status": "healthy",
      "database_status": "connected",
      "redis_status": "connected",
      "planner_available": true,
      "timestamp": "2024-01-15T10:30:00Z"
    }
    ```
  - μƒνƒ μ½”λ“: `200` μ •μƒ, `503` λ¬Έμ  λ°μƒ

### λ¦¬λ”λ³΄λ“ κ΄€λ¦¬
- **POST `/api/v1/leaderboard/generate`** : μμ—°μ–΄ μ§μ κΈ°λ° λ¦¬λ”λ³΄λ“ μƒμ„±
  - μ”μ²­ λ³Έλ¬Έμ—λ” μ§μ, λ¨λΈ λ©λ΅, ν‰κ°€ κΈ°μ¤€μ„ ν¬ν•¨ν•©λ‹λ‹¤.
  - μ„±κ³µ μ‹ μ‘μ—… IDμ™€ μμƒ μ†μ” μ‹κ°„μ΄ λ°ν™λ©λ‹λ‹¤.
- **GET `/api/v1/leaderboard/browse`** : κΈ°μ΅΄ λ¦¬λ”λ³΄λ“ μ΅°ν
  - μ–Έμ–΄, μ£Όμ , κ³Όμ—…, μ μ λ²”μ„ λ“± λ‹¤μ–‘ν• ν•„ν„°μ™€ μ •λ ¬ μµμ… μ κ³µ

### μ‘μ—… κ΄€λ¦¬
- **GET `/api/v1/tasks/{task_id}`** : μ‘μ—… μƒμ„Έ μ •λ³΄ μ΅°ν
  - μ§„ν–‰λ¥ , κ²°κ³Ό, λ¨λΈλ³„ μ§€ν‘, μ‹¤ν–‰ μ‹κ°„ ν™•μΈ
- **DELETE `/api/v1/tasks/{task_id}`** : μ™„λ£λ μ‘μ—… μ‚­μ 

### ν‰κ°€ κ³„ν λ° μƒν”
- **POST `/api/v1/planner/plan`** : μμ—°μ–΄ μ§μλ¥Ό BenchHub κ³„νμΌλ΅ λ³€ν™
- **POST `/api/v1/planner/preview`** : κ³„ν λ―Έλ¦¬λ³΄κΈ° λ° μƒν” μ¶”μ¶
- **GET `/api/v1/samples/{task_id}`** : ν‰κ°€ μƒν” λ°μ΄ν„°λ¥Ό μ΅°ν

### λ²¤μΉλ§ν¬ λ©”νƒ€λ°μ΄ν„°
- **GET `/api/v1/benchmarks/subjects`** : BenchHub μ£Όμ  λ©λ΅ λ°ν™
- **GET `/api/v1/benchmarks/tasks`** : κ³Όμ—… μ ν• λ©λ΅ λ°ν™

## μ”μ²­ λ° μ‘λ‹µ ν•μ‹
- λ€λ¶€λ¶„μ μ—”λ“ν¬μΈνΈλ” JSON μ”μ²­/μ‘λ‹µμ„ μ‚¬μ©ν•©λ‹λ‹¤.
- λ€λ‰ λ°μ΄ν„° μ΅°ν μ‹ `limit`, `offset` νλΌλ―Έν„°λ΅ νμ΄μ§€λ„¤μ΄μ…μ΄ κ°€λ¥ν•©λ‹λ‹¤.
- μ¤λ¥ μ‘λ‹µμ€ λ‹¤μ ν•μ‹μ„ λ”°λ¦…λ‹λ‹¤.
  ```json
  {
    "detail": "Validation error",
    "errors": [
      {"loc": ["body", "query"], "msg": "field required", "type": "value_error.missing"}
    ]
  }
  ```

## μƒνƒ μ½”λ“ μ”μ•½
- `200` μ„±κ³µ
- `201` λ¦¬μ†μ¤ μƒμ„±
- `400` μλ»λ μ”μ²­
- `401` μΈμ¦ μ‹¤ν¨
- `404` λ¦¬μ†μ¤λ¥Ό μ°Ύμ„ μ μ—†μ
- `422` μ ν¨μ„± κ²€μ‚¬ μ¤λ¥
- `500` μ„λ²„ λ‚΄λ¶€ μ¤λ¥

## λ¨λ²” μ‚¬μ© μ‚¬λ΅€
1. **ν—¬μ¤ μ²΄ν¬ ν›„ μ‘μ—… μƒμ„±**: `/health`λ΅ μƒνƒ ν™•μΈ ν›„ `/leaderboard/generate` νΈμ¶
2. **μ‘μ—… μ§„ν–‰ λ¨λ‹ν„°λ§**: λ°ν™λ `task_id`λ΅ `/tasks/{task_id}`λ¥Ό μ£ΌκΈ°μ μΌλ΅ ν™•μΈ
3. **κ²°κ³Ό ν™μ©**: `/leaderboard/browse` λλ” `/samples/{task_id}`λ΅ μ„Έλ¶€ κ²°κ³Ό μ΅°ν

## μ°Έκ³  μλ£
- [BenchHub κµ¬μ„± κ°€μ΄λ“](BENCHHUB_CONFIG.md)
- [HRET ν†µν•© κ°€μ΄λ“](HRET_INTEGRATION.md)
- [μ‚¬μ©μ λ§¤λ‰΄μ–Ό](user-manual.md)
